Урок 3. Защита сетевых сервисов

Создать два списка с сайтами: restricted.acl и allowed.acl
Настроить squid таким образом, чтобы был разрешен доступ без пароля к сайтам из списка allowed.acl, для доступа к сайтам из списка restricted.acl должен запрашиваться пароль.
Доступ к остальным сайтам должен быть запрещен.
Что будет, если сайт будет находиться одновременно в двух списках?

В качестве решения приложить:
— файлы squid.conf, allowed.acl, restricted.acl
— ответ на вопрос текстом.

Решение:
Создаем 2 файла:
1. nano /etc/squid/allowed.acl
2. nano /etc/squid/restricted.acl
<image src="Allowed_restricted_acl_files.png">

После этого внесем конфигурационную информацию в файл squid.conf командой
nano /etc/squid/squid.conf
<image src="squid.conf.png">

Затем перезагрузим squid командой:
sudo systemctl restart squid

Затем пробуем открыть сайт из списка и не входящий в список:
<image src="try_to_open_sites.png">

Видим, что открылся сайт из списка, а отсутствующий в списке - нет.

Что будет, если сайт будет находиться одновременно в двух списках?

Он откроется, так как первой обрабатывается строка разрешающая доступ.

Приложение: 3 файла
squid.conf
Allowed.acl
Restricted.acl 